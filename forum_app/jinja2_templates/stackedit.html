{% extends "_layouts/_home.html" %}

{% block title %}Stackedit{% endblock %}

{% block content %}
    <div class="page-content"></div>
    </div><!-- end-of-page-content -->
{% endblock %}

{% block scripts %}
<script type="text/javascript" src="/js/stackedit/stackedit.min.js"></script>
<script type="text/javascript">
  "use strict";
  const el = document.querySelector('textarea');
  const stackedit = new Stackedit();

  // Open the iframe
  stackedit.openFile({
    name: 'Filename', // with a filename
    content: {
      text: el.value // and the Markdown content.
    },
    silent: true
  });

  // Listen to StackEdit events and apply the changes to the textarea.
  stackedit.on('fileChange', (file) => {
    el.value = file.content.text;
  });

  // Open the iframe
  // stackedit.openFile({
  //   name: 'Filename', // with an optional filename
  //   content: {
  //     text: el.value // and the Markdown content.
  //   }
  // });
  
  // stackedit.openFile({
  //   name: 'Filename',
  //   content: {
  //     text: 'Hello **CommonMark** writer!',
  //     properties: {
  //       extensions: {
  //         preset: 'commonmark'
  //       }
  //     }
  //   }
  // });


  // // Listen to StackEdit events and apply the changes to the textarea.
  // stackedit.on('fileChange', (file) => {
  //   el.value = file.content.text;
  // });

</script>
{% endblock %}
